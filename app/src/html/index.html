<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link href="style.css" rel="stylesheet">
	<title>Helping hand</title>
</head>
<body id="page-top" class="index">
<div id="skipnav"><a href="#maincontent">Skip to main content</a></div>

<!--Navigation-->
<nav id="mainNav" class="navbar navbar-default navbar-fixed-top navbar-custom">
<div class="container">
<!--Brand and toggle get grouped for better mobile display-->
	<div class="navbar-header page-scroll">

		<a class="navbar-brand" href="#page-top">Helping Hand</a>
	</div>
<!-- collect the nav links,forms and other content for toggling-->
	<div class="collapse navbar-collapse" id="navbar-collapse-1">
		<ul class="nav navbar-nav navbar-right">
			<li class="hidden"><a href="#page-top"></a></li>
			<li class="page-scroll"><a href="#about">About us</a></li>
			<li class="page-scroll"><a href="#college">Colleges</a></li>
			<li class="page-scroll"><a href="#Exams">Exams</a></li>
			<li class="page-scroll"><a href="#Updates">Updates</a></li>
			<li class="page-scroll"><a href="#contact">Contact</a></li>
		</ul>
	</div>
</div>
</nav>
<!--Header-->
<header>
	<div class="container" id="maincontent" tabindex="-1">
		<div class="row">
			<div class="col-lg-12">
				<img class="img-responsive" src="profile.png" alt="">
				<div class="intro-text">
					<h1 class="name">Helping Hand</h1>
					<h3 class="name">Take Informed Decision</h3>
				</div>
			</div>
		</div>
	</div>
</header>
<!-- About Section-->
<section class="success" id="about">
	<div class="container">
		<div class="row">
			<div class="col-lg-12 text-center">
				<h2>About Us</h2><br>
			</div>
		</div>
			<div class="row">
				<div class="col-lg-4 col-lg-offset-2">
					<p>Helping hand is a premier college counsulting website
					dedicated to assisting student gearing for admission in top tier university 
					in India.</p>
				</div>
				<div class="col-lg-4">
					<p>College admission is not transparent process
					Our college counselling tools empowers student to make 
					informed decision that optimize their choices.</p>
				</div>
				<div class="col-lg-8 col-lg-offset-2 text-center">
					<a href="login_signup.html" class="btn btn-lg btn-outline">SignUp/Login</a>
				</div>
			</div>
	</div>
</section>
<!--College-->
<div class="container" id="college" tabindex="-1">
	<div class="row">
		<div class="col-lg-12 text-center">
			<h2>Colleges</h2>
			<p>Gather information about the colleges of your choice.
					After all, it is the decision which shapes your life!!</p>
		</div>
	</div>
		<div class="row">
			<div class="col-lg-5 col-lg-offset-1">
			<div id=college_content></div>
				<div id=collegenames></div>
			</div>
			<div class="col-lg-5">
				<br><br><div id=collegedetails></div>
				
			</div>
		</div>
</div>

<!--Exams-->
<div class="container" id="Exams" tabindex="-1">
	<div class="row">
		<div class="col-lg-12 text-center">
			<h2>Exams</h2><br>
		</div>
	</div>
		<div class="row">
			<div class="col-lg-5 col-lg-offset-1">
				<div id=examcategory></div>
				<div id=examnames></div>
			</div>
			<div class="col-lg-5 ">
				<div id=examdetails></div>
			</div>

		</div>
</div>
<!--Updates and Upcoming Events-->
<div class="container" id=Updates tabindex="-1">
	<div class="row">
		<div class="col-lg-12 text-center">
			<h2>Upcoming Events & Cutoff</h2><br>
		</div>
	</div>
	<div class="row">
	<div class="col-lg-5 col-lg-offset-1">
		<ul>
			<li>IIIT Hyderabad Admissions 2017: Round 1 Result Declared.click <a href="https://ims.iiit.ac.in/admissions.php">here</a></li>
			<li>IIIT Bhubaneswar Admissions 2017: Round 1 Result Declared.click <a href="https://hib.iiit-bh.ac.in/Hibiscus/Pub/AdmRes1.php?client=iiit">here</a></li>
			<li>NEST 2017: Result Declared.click <a href="https://nestexam.in/result17.php">here</a></li>
		</ul>
	</div>
	<div class="col-lg-5">
		<ul>
			<li>Joint Seat Allocation 2017 (JOSAA 2017).click <a href="http://josaa.nic.in/webinfocms/public/view.aspx?page=46">here</a></li>
			<li>JOSAA 2017: 3 new IIITS to start admission from this year</li>
			<li>JEE ADVANCED 2017: Cutoff Marks.Click <a href="http://www.jeeadv.ac.in/">here</a></li>
		</ul>
	</div>

	</div>
</div>
<!--Contact Section-->
<section id="contact">
	<div class="container">
		<div class="row">
			<div class="col-lg-12 text-center">
				<h2>Feedback</h2>
			</div>
		</div>
	<div class="row">
		<div class="col-lg-8 col-lg-offset-2">
			<form role="form">
								<div class="form-group">
									<label for="name">Username</label>
									<input type=text class="form-control" id=name placeholder="Enter username">
								</div>
								<div class="form-group">
									<label for="email">Email</label>
									<input type=email class="form-control" id=email placeholder="Enter your email">
								</div>
								<div class="form-group">
									<label for="message">Message</label>
									<input type=text class="form-control" id=message placeholder="Enter your message">
								</div>
								<input type=button id=send_btn class="btn btn-default btn-center" value=Send>
							</form>
		</div>
	</div>
</div>
</section>
<!--footer-->
<footer class="text-center">
	<div class="footer-above">
		<div class="container">
			<div class="row">
				<div class="footer-col col-lg-12">
					<h3>Contact Us</h3>
					<a href="mailto:arsh10209@gmail.com">Helping Hand</a>
					
				</div>

			</div>
		</div>
	</div>
	<div class="footer-below">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					Copyright &copy; Helping Hand
				</div>
			</div>
		</div>
	</div>
</footer>


<script>
	var send_btn = document.getElementById("send_btn");
	
	send_btn.onkeypress= function()
{ 

   var request= new XMLHttpRequest();
	
	    request.onreadystatechange= function()
    {
	  if(request.readyState===XMLHttpRequest.DONE && request.status===200) 
		  {  
		  document.getElementById("send_btn").value= " success";}
		else 
			{ document.getElementById("send_btn").value= "Oops ! somthing went wrong";}
		  	  
	
  }
	var name= document.getElementById("name").value;
	var email=document.getElementById("email").value;
	var message= document.getElementById("message").value;
	var send_btn=document.getElementById("send_btn");
	request.open('POST', "http://data.helpinghand.hasura.me/v1/query", true);
	request.setRequestHeader('Content-type','application/json');
	request.send(JSON.stringify({type:"insert",args:{table:"feedback",objects:[{name:name,email:email,message:message}]}}));
	send_btn.value="Please wait...";
	
};
</script>
<script type="text/javascript">
/*window.onload=function()
{	var cat='<form><select id=categorybox onchange="GetSelectedTextValue(this)">';
	var requestobj3=new XMLHttpRequest();
	requestobj.onreadystatechange=function()
	{
		if(requestobj3.readyState===XMLHttpRequest.DONE&&requestobj3.status===200)
		{
				var categories=JSON.parse(this.responseText);
				console.log(categories[0].category);
				for(i=0;i<categories.length;i++)
				{
					cat+=`<option value=${categories[i].id}>${categories[i].category}</option>`;
				}
				cat+="</select></form>";
				document.getElementById("college_content").innerHTML=cat;
				//document.getElementById("examcategory").innerHTML=cat;
				var e=document.getElementById("categorybox");
				var selectedcategory=e.options[e.selectedIndex].value;
				console.log(selectedcategory);
		}
		else
		{

		}
	};
	requestobj3.open('POST',"https://data.coincide68.hasura-app.io/v1/query",true);
	//requestobj.withCredentials=true;
	requestobj3.setRequestHeader('Content-type','application/json');
	requestobj3.send(JSON.stringify({type:"select",args:{table:"category",columns:["*"]}}));

	
}*/
window.onload=function(){
	var cat1='<form><select id=categorybox onchange="GetSelectedTextValue(this)">';
	var cat2='<form><select id=categoryboxexam onchange="GetSelectedcourse(this)">';
	var requestobj=new XMLHttpRequest();
	requestobj.onreadystatechange=function()
	{
		if(requestobj.readyState===XMLHttpRequest.DONE&&requestobj.status===200)
		{
				var categories=JSON.parse(this.responseText);
				console.log(categories[0].category);
				for(i=0;i<categories.length;i++)
				{
					cat1+=`<option value=${categories[i].id}>${categories[i].category}</option>`;
					cat2+=`<option value=${categories[i].id}>${categories[i].category}</option>`;
				}
				cat1+="</select></form>";
				cat2+="</select></form>";
				document.getElementById("college_content").innerHTML=cat1;
				document.getElementById("examcategory").innerHTML=cat2;
				var e=document.getElementById("categorybox");
				var selectedcategory=e.options[e.selectedIndex].value;
				console.log(selectedcategory);
		}
		else
		{

		}
	};
	requestobj.open('POST',"http://data.helpinghand.hasura.me/v1/query",true);
	//requestobj.withCredentials=true;
	requestobj.setRequestHeader('Content-type','application/json');
	requestobj.send(JSON.stringify({type:"select",args:{table:"category",columns:["*"]}}));
}


function GetSelectedTextValue(categorybox) {
        var selectedText = categorybox.options[categorybox.selectedIndex].innerHTML;
        var selectedValue = parseInt(categorybox.value);
        //alert("Selected Text: " + selectedText + " Value: " + selectedValue);
        console.log(selectedValue);
	var str='<form><select id=detail onchange=readcollegedetails(this)>';
        var requestobj1=new XMLHttpRequest();
        requestobj1.onreadystatechange=function()
        {
        	if(requestobj1.readyState===XMLHttpRequest.DONE&&requestobj1.status===200)
        	{
        		var c=JSON.parse(this.responseText);
        		console.log(c[0].name);
        		//alert(c[0].name);
        		for(var i=0;i<c.length;i++)
        		{
        			str+=`<option value=${c[i].id}>${c[i].name}</option>`;
        		}
        		str+="</select></form>";
        		document.getElementById("collegenames").innerHTML=str;
        	}
        	else
        	{

        	}
        }
        requestobj1.open('POST',"http://data.helpinghand.hasura.me/v1/query",true);
        requestobj1.setRequestHeader('Content-type','application/json');
        requestobj1.send(JSON.stringify({type:"select",args:{table:"colleges",columns:["*"],where:{category:selectedValue}}}));
       
}
function readcollegedetails(detail)
{
	var selectedcollege=detail.options[detail.selectedIndex].innerHTML;
	var selectedcollegevalue=parseInt(detail.value);
	console.log(selectedcollegevalue);
	var det='';
	var requestobj2=new XMLHttpRequest();
	requestobj2.onreadystatechange=function()
	{
		if(requestobj2.readyState===XMLHttpRequest.DONE&&requestobj2.status===200)
		{
			var col=JSON.parse(this.responseText);
			console.log(col[0].name+col[0].description+col[0].address+col[0].courses+col[0].info);
			det+=`<h3>${col[0].name}</h3><p>${col[0].description}</p><p>Location: ${col[0].address}</p><a href="${col[0].courses}">courses offered</a><br/><a href="${col[0].info}">for more information</a>`
			document.getElementById("collegedetails").innerHTML=det;
		}
		else
		{

		}
	}
	requestobj2.open('POST',"http://data.helpinghand.hasura.me/v1/query",true);
	requestobj2.setRequestHeader('Content-type','application/json');
	requestobj2.send(JSON.stringify({type:"select",args:{table:"collegedetail",columns:["*"],where:{college_id:selectedcollegevalue}}}));
}
function GetSelectedcourse(categoryboxexam)
{
	var selectedcourse = categoryboxexam.options[categoryboxexam.selectedIndex].innerHTML;
        var selectedexam = parseInt(categoryboxexam.value);
        //alert("Selected Text: " + selectedText + " Value: " + selectedValue);
        console.log(selectedexam);
	var st='<form><select id=detailexam onchange=readexamdetails(this)>';
        var requestobj4=new XMLHttpRequest();
        requestobj4.onreadystatechange=function()
        {
        	if(requestobj4.readyState===XMLHttpRequest.DONE&&requestobj4.status===200)
        	{
        		var c=JSON.parse(this.responseText);
        		console.log(c[0].exam);
        		//alert(c[0].exam);
        		for(var i=0;i<c.length;i++)
        		{
        			st+=`<option value=${c[i].id}>${c[i].exam}</option>`;
        		}
        		st+="</select></form>";
        		document.getElementById("examnames").innerHTML=st;
        	}
        	else
        	{

        	}
        }
        requestobj4.open('POST',"http://data.helpinghand.hasura.me/v1/query",true);
        requestobj4.setRequestHeader('Content-type','application/json');
        requestobj4.send(JSON.stringify({type:"select",args:{table:"exams",columns:["*"],where:{category:selectedexam}}}));
}
function readexamdetails(detailexam)
{
	var selectedexamname=detailexam.options[detailexam.selectedIndex].innerHTML;
	var selectedexamvalue=parseInt(detailexam.value);
	console.log(selectedexamvalue);
	var det='';
	var requestobj5=new XMLHttpRequest();
	requestobj5.onreadystatechange=function()
	{
		if(requestobj5.readyState===XMLHttpRequest.DONE&&requestobj5.status===200)
		{
			var colu=JSON.parse(this.responseText);
			console.log(colu[0].name+colu[0].description+colu[0].address+colu[0].courses+colu[0].info);
			det+=`<h3>${colu[0].name}</h3><p>${colu[0].description}</p><p>Eligibility: ${colu[0].eligibility}</p><br/><a href="${colu[0].info}">for more information</a>`;
			console.log(det);
			document.getElementById("examdetails").innerHTML=det;
		}
		else
		{

		}
	}
	requestobj5.open('POST',"http://data.helpinghand.hasura.me/v1/query",true);
	requestobj5.setRequestHeader('Content-type','application/json');
	requestobj5.send(JSON.stringify({type:"select",args:{table:"examdetail",columns:["*"],where:{exam_id:selectedexamvalue}}}));
}
</script>
</body>
</html>
